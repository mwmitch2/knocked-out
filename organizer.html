<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="jquery.bracket.min.css" />
</head>

<body>
    <!--Navbar-->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container">
            <a href="index.html" class="navbar-brand">Knocked-Out</a>
        </div>
    </nav>


    <!--Sections-->
    <section id="create" class="p-5">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <div class="col-md">
                    <img src="create.png" class="img-fluid rounded">
                </div>
                <div class="col-md p-5">
                    <h3>CREATE</h3>
                    <p class="p-lead">
                        OK, lets get started by creating a tournament for everyone to join!
                    </p>
                    <p>Tournament brackets grow by powers of 2, starting with 4 and a maximum of 64 teams. 
                        Single and double elimination tournaments are currently supported. Please note that seeding is determined
                        in a first come, first served basis unless random seeding is selected. Lets Go!
                    <p>

                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-dark text-white" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                        <i class="bi bi-chevron-right"></i>Create
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">Create Tournament</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form class="row g-2">
                                        <div class="col-md-8 mb-3 pt-3">
                                            <label for="inputCity" class="form-label">Tournament Name</label>
                                            <input type="text" class="form-control" id="inputCity">
                                        </div>
                                        <div class="col-md-2 pt-3">
                                            <label for="inputState" class="form-label">Size</label>
                                            <select id="inputState" class="form-select">
                                                <option selected>2²</option>
                                                <option>2³</option>
                                                <option>2⁴</option>
                                                <option>2⁵</option>
                                                <option>2⁶</option>
                                            </select>
                                        </div>
                                        <fieldset class="col-form-label">
                                            <legend class="col-form-label col-sm-2 pt-0">Type</legend>
                                            <div class="col-sm-10">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="gridRadios"
                                                        id="gridRadios1" value="option1" checked>
                                                    <label class="form-check-label" for="gridRadios1">
                                                        Single Elimination
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="gridRadios"
                                                        id="gridRadios2" value="option2">
                                                    <label class="form-check-label" for="gridRadios2">
                                                        Double Elimination
                                                    </label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <div class="col-12">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="gridCheck">
                                                <label class="form-check-label" for="gridCheck">
                                                    Random Seeding
                                                </label>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="start" class="p-5 bg-dark text-light">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <div class="col-md p-5">
                    <h3>START</h3>
                    <p class="p-lead">
                        The teams are signing up right now! Please wait until everyone has had a chance to join.
                    </p>
                    <div class="progress" style="height: 20px;">
                        <div class="progress-bar progress-bar-striped bg-danger" role="progressbar"
                            aria-label="Danger striped example" style="width: 100%" aria-valuenow="100"
                            aria-valuemin="0" aria-valuemax="100">8/8</div>
                    </div>
                    <a href="#view" class="btn btn-light mt-3">
                        <i class="bi bi-chevron-right"></i> Start
                    </a>
                </div>
                <div class="col-md">
                    <table class="table table-dark table-striped table-sm">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Team Name</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">1</th>
                                <td>Caffeinated Foxes</td>
                            </tr>
                            <tr>
                                <th scope="row">2</th>
                                <td>The System Errors</td>
                            </tr>
                            <tr>
                                <th scope="row">3</th>
                                <td>AWESOM-O-340</td>
                            </tr>
                            <tr>
                                <th scope="row">4</th>
                                <td>AJA</td>
                            </tr>
                            <tr>
                                <th scope="row">5</th>
                                <td>[Team Name Here]</td>
                            </tr>
                            <tr>
                                <th scope="row">6</th>
                                <td>XJM</td>
                            </tr>
                            <tr>
                                <th scope="row">7</th>
                                <td>The Brogrammers</td>
                            </tr>
                            <tr>
                                <th scope="row">8</th>
                                <td>Wan-Ten-Soup</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <section id="view" class="bg-light text-dark p-3">
        <div class="container text-center">
            <div class="row align-items-center col-md p-5">
                <h3>VIEW</h3>
                <p>
                    Here is the tournament you are currently hosting! Lets check out the results so far.
                </p>
                <div class="tournament"></div>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
                <script type="text/javascript" src="jquery.bracket.min.js"></script>
                <script>
                    var singleElimination = {
                        "teams": [              // Matchups
                            ["The System Errors", "Caffeinated Foxes"],  //1 & 2
                            ["AWESOM-O-340", "AJA"],                     //3 & 4
                            ["[Team Name Here]", "XJM"],                 //5 & 6
                            ["The Brogrammers", "Wan-Ten-Soup"],         //7 & 8
                        ],
                        "results": [            // List of brackets (single elimination, so only one bracket)
                            [                     // List of rounds in bracket
                                [                   // First round in this bracket
                                    [1, 2],           // Team 1 vs Team 2
                                    [3, 4],            // Team 3 vs Team 4
                                    [3, 2],
                                    [5, 3]
                                ],
                                [                   // Second (final) round in single elimination bracket
                                    [5, 6],           // Match for first place
                                    [7, 8],          // Match for 3rd place
                                ],
                                [
                                    [2, 1],
                                    [1, 3]
                                ]
                            ]
                        ]
                    };

                    /* Called whenever bracket is modified
                    *
                     * data:     changed bracket object in format given to init
                     * userData: optional data given when bracket is created.
                    */
                    function saveFn(data, userData) {
                        var json = jQuery.toJSON(data)
                        $('#saveOutput').text('POST ' + userData + ' ' + json)
                        /* You probably want to do something like this
                        jQuery.ajax("rest/"+userData, {contentType: 'application/json',
                                                      dataType: 'json',
                                                      type: 'post',
                                                      data: json})
                        */
                    }

                    $(function () {
                        var container = $('div#save .tournament')
                        container.bracket({
                            init: saveData,
                            save: saveFn,
                            userData: "http://myapi"
                        })

                        /* You can also inquiry the current data */
                        var data = container.bracket('data')
                        $('#dataOutput').text(jQuery.toJSON(data))
                    })

                    $('.tournament').bracket({
                        init: singleElimination
                    })

                </script>
            </div>
        </div>
    </section>


    <!--Footer-->
    <footer class="p-1 bg-dark text-white test-center position-relative">
        <div class="container">
            <p class="lead">Copyright &copy; 2022 Team: Whiskey Tango Foxtrot</p>
            <a href="#" class="position-absolute bottom-0 end-0 p5">
                <i class="bi bi-arrow-up-circle h1"></i>
            </a>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>